tinymce.PluginManager.add('sotk', function( editor, url ) {

	editor.ui.registry.addMenuButton('sotk', {
      text: 'Struktur Organisasi',
      fetch: function(callback) {
				var items = [];

				var menuItem = {
					type: 'nestedmenuitem',
					icon: 'unordered-list',
					text: 'Struktur Organisasi (SOTK)',
					getSubmenuItems: function() {
						return [
							{
								type: 'menuitem',
								text: 'SOTK (dengan BPD/LPM)',
								icon: 'duplicate',
								onAction: function() {
									editor.insertContent('[[sotk_w_bpd]]');
								}
							},
							{
								type: 'menuitem',
								text: 'SOTK (tanpa BPD/LPM)',
								icon: 'paste',
								onAction: function() {
									editor.insertContent('[[sotk_wo_bpd]]');
								}
							}
					];
					}
				};
				items.push(menuItem);

        callback(items);
      },
    });

});
